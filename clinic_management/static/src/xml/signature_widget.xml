<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="clinic_management.DrawCanvasWidget">
        <!-- Responsive container for Odoo form view -->
        <div class="o_draw_canvas_widget"
             style="position: relative; width:100%; max-width:100%; aspect-ratio:210/297;
                    background:#fdfdfd; border:1px solid #ccc; border-radius:6px; display:flex; flex-direction:column;">

            <!-- Header -->
            <div style="display:flex; justify-content:space-between; align-items:flex-start;
                        width:100%; padding:10px; flex:0 0 auto;
                        background:linear-gradient(90deg, #4e73df, #1cc88a); color:#fff; font-size:14px;">

                <!-- Clinic Info -->
                <div style="font-weight:700; font-size:16px;">
                    <t t-esc="props.record.data.company_name or 'Clinic Name'"/>
                    <div style="font-weight:400; font-size:12px; margin-top:4px; color:#e0f0ff;">
                        <t t-esc="props.record.data.company_street or ''"/>
                        <t t-if="props.record.data.company_city">, <t t-esc="props.record.data.company_city"/></t>
                        <t t-if="props.record.data.company_zip"> - <t t-esc="props.record.data.company_zip"/></t>
                        <div style="margin-top:2px;">ðŸ“ž <t t-esc="props.record.data.company_phone or ''"/></div>
                    </div>
                </div>

                <!-- Patient Info -->
                <div style="text-align:right; font-size:13px; background:rgba(255,255,255,0.15); padding:6px 10px; border-radius:6px;">
                    <div><strong>ðŸ‘¤ Patient:</strong> <t t-esc="props.record.data.patient_id[1] or ''"/></div>
                    <div style="margin-top:2px;"><strong>ðŸŽ‚ Age:</strong> <t t-esc="props.record.data.patient_age or ''"/> yrs</div>
                    <div style="margin-top:2px;"><strong>ðŸ“… Date:</strong> <t t-esc="props.record.data.prescription_date or ''"/></div>
                </div>
            </div>

            <!-- Divider -->
            <div style="width:100%; height:3px; background:#1cc88a; flex:0 0 auto;"></div>

            <!-- Canvas Area -->
            <div style="flex:1; position:relative; border:1px dashed #ddd; background:#fff;">
                <canvas t-ref="canvas" width="2480" height="3508" style="width:100%; height:100%; display:block;"></canvas>
            </div>

            <!-- Footer -->
            <div style="flex:0 0 auto; padding:8px; text-align:center; font-size:12px; font-weight:500;
                        background:linear-gradient(90deg, #1cc88a, #4e73df); color:#fff;">
                <t t-esc="props.record.data.company_name or 'Clinic Name'"/> |
                <t t-esc="props.record.data.company_street or ''"/>
            </div>
        </div>
    </t>
</templates>

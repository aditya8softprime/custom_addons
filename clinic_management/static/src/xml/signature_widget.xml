<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="clinic_management.DrawCanvasWidget">
        <!-- A4 prescription template with header showing clinic + patient info, and a large blank canvas area -->
        <div class="o_draw_canvas_widget" style="position: relative; width:210mm; height:297mm; box-sizing:border-box; padding:12mm; border:1px solid #000; background: #fff;">
            <!-- Header block: clinic details on the left, patient info on the right -->
            <div style="display:flex; justify-content:space-between; width:100%; align-items:flex-start;">
                <div style="font-weight:700; font-size:7.5mm;">
                    <t t-esc="props.record.data.company_name or 'Clinic Name'"/>
                    <div style="font-weight:400; font-size:4.5mm; margin-top:2mm;">
                        <t t-esc="props.record.data.company_street or ''"/>
                        <t t-if="props.record.data.company_city">, <t t-esc="props.record.data.company_city"/></t>
                        <t t-if="props.record.data.company_zip"> - <t t-esc="props.record.data.company_zip"/></t>
                        <div style="margin-top:1mm;">Tel: <t t-esc="props.record.data.company_phone or ''"/></div>
                    </div>
                </div>

                <div style="text-align:right; font-size:5mm;">
                    <div><strong>Patient:</strong> <t t-esc="props.record.data.patient_id[1] or ''"/></div>
                    <div style="margin-top:1mm;"><strong>Age:</strong> <t t-esc="props.record.data.patient_age or ''"/> yrs</div>
                    <div style="margin-top:1mm;"><strong>Date:</strong> <t t-esc="props.record.data.prescription_date or ''"/></div>
                </div>
            </div>

            <!-- Divider -->
            <div style="width:100%; height:1px; background:#ccc; margin:6mm 0;"></div>

            <!-- Large canvas area for handwriting (fills remaining space) -->
            <div style="position:relative; width:100%; height:calc(100% - 40mm); border:1px dashed #ddd;">
                <canvas t-ref="canvas" width="2480" height="3508" style="position:absolute; top:0; left:0; width:100%; height:100%;"></canvas>
            </div>

            <!-- Footer small note -->
            <div style="position:absolute; left:12mm; right:12mm; bottom:12mm; text-align:center; font-size:3.5mm; color:#666;">
                <t t-esc="props.record.data.company_name or 'Clinic Name'"/> - <t t-esc="props.record.data.company_street or ''"/>
            </div>
        </div>
    </t>
</templates>
